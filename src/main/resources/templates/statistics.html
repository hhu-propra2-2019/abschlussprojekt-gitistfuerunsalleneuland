<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{mopslayout :: html(name='Java in der Praxis', headcontent=~{:: headcontent}, navigation=~{:: navigation}, bodycontent=~{:: bodycontent})}">
<head>
  <meta charset="utf-8">
  <title>Java in der Praxis</title>
  <th:block th:fragment="headcontent">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
     
  </th:block>
</head>
<body>
<header>
 <nav class="navigation navigation-secondary" is="mops-navigation" th:fragment="navigation">
    <!-- Navigation als ungeordnete Liste mit einfachen Links hier einfügen! -->
    <ul class="navbar-nav">
      <li class="nav-item"><a class="nav-link text-dark" href="/">Übersicht<span class="sr-only">(current)</span></a></li>
      <div>
        <!-- th:switch="${user}" / th:case="" / oder th:if="${param.error}"-->
        <li class="nav-item"><a class="nav-link text-dark" href="/statistics">Statistiken</a></li>
        <li class="nav-item"><a class="nav-link text-dark" href="/profil">Meine Quittungen</a></li>
      </div>
    </ul>
  </nav>
</header>
<main th:fragment="bodycontent">

  <div class="container mb-4">
  	<div class="row my-4">
    		<div class="col">
    			<h2>Statistiken</h2>
    		</div>
    		<div class="col">
    			<div class="float-right">
    				<a href="/update/statistics"> <!-- Hardcoding -->
    					<button type="button" class="btn btn-default">
  							<i class="fas fa-redo-alt"></i>
						</button>
    				</a>
    			</div>
    		</div>
    	</div>
    <p> Eine Übersicht über aktuelle Zahlen und Fakten der Rheinjug und Entwickelbar Veranstaltungen </p>
    
    <div class="row my-5">
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Quittungen für Entwickelbar</h5>
            <h4 th:text="${numberEntwickelbarReceipts}">1746</h4>
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Quittungen für Rheinjug</h5>
            <h4 th:text="${numberRheinjugReceipts}">5,8%</h4>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  
  <div class="container my-4">
    <h4>Besucherzahlen</h4>
    <canvas id="myChart"></canvas>
  </div>
  <script th:inline="javascript">
  var ctx = document.getElementById('myChart').getContext('2d');
  var myChart = new Chart(ctx, {
      type: 'line',
      data: {
          labels: [(${chart.dates})],
          datasets: [{
              label: 'Anzahl Besucher',
              data: [(${chart.participants})],
              borderColor: "#3e95cd",
              backgroundColor: 'rgba(62, 150, 205, 0.3)',
              
              borderWidth: 1
          }]
      },
      options: {
          scales: {
              yAxes: [{
                  ticks: {
                      beginAtZero: true
                  }
              }]
          }
      }
  });
  </script>
  
</main>
</body>
</html>
